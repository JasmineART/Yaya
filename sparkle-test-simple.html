<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Sparkle Test</title>
    <style>
        body {
            margin: 0;
            min-height: 100vh;
            background: linear-gradient(135deg, #FFB5D8 0%, #E6B5FF 30%, #C5A0E8 60%, #B5D8FF 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: system-ui, sans-serif;
        }
        
        .sparkle {
            position: fixed;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            box-shadow: 0 0 10px rgba(255,255,255,0.8);
        }
        
        .info {
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 2rem;
            border-radius: 12px;
            text-align: center;
            max-width: 500px;
        }
        
        h1 { margin-top: 0; color: #FFD700; }
        .count { 
            font-size: 2rem; 
            font-weight: bold; 
            color: #FFD700;
            margin: 1rem 0;
        }
        button {
            background: #9C27B0;
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            margin: 0.5rem;
        }
        button:hover {
            background: #7B1FA2;
        }
    </style>
</head>
<body>
    <div class="info">
        <h1>âœ¨ Sparkle Test</h1>
        <p>Watch for white sparkles floating upward!</p>
        <div class="count" id="sparkle-count">0 sparkles</div>
        <button onclick="createTestSparkle()">Create Sparkle</button>
        <button onclick="startAuto()">Start Auto</button>
        <button onclick="stopAuto()">Stop Auto</button>
        <div id="log" style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.8;"></div>
    </div>

    <script>
        // Inject animation styles
        const style = document.createElement('style');
        style.id = 'sparkle-animation-styles';
        style.textContent = `
            @keyframes floatSparkle {
                0% { 
                    transform: translateY(100vh) translateX(0) scale(0) rotate(0deg);
                    opacity: 0;
                }
                10% {
                    opacity: 1;
                }
                50% {
                    transform: translateY(50vh) translateX(var(--drift, 0)) scale(1) rotate(180deg);
                }
                90% {
                    opacity: 0.8;
                }
                100% {
                    transform: translateY(-10vh) translateX(calc(var(--drift, 0) * 1.5)) scale(0.3) rotate(360deg);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
        
        let autoInterval = null;
        
        function log(msg) {
            const logEl = document.getElementById('log');
            logEl.textContent = new Date().toLocaleTimeString() + ': ' + msg;
        }
        
        function updateCount() {
            const count = document.querySelectorAll('.sparkle').length;
            document.getElementById('sparkle-count').textContent = count + ' sparkles';
        }
        
        function createTestSparkle() {
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            
            // Random position
            const streamX = 20 + (Math.random() * 60);
            sparkle.style.left = streamX + '%';
            
            // Random size
            const size = Math.random() * 4 + 2;
            sparkle.style.width = size + 'px';
            sparkle.style.height = size + 'px';
            
            // Random animation
            const duration = Math.random() * 3 + 3;
            const delay = Math.random() * 0.5;
            const drift = (Math.random() - 0.5) * 100;
            
            sparkle.style.animation = `floatSparkle ${duration}s ease-in-out ${delay}s`;
            sparkle.style.setProperty('--drift', drift + 'px');
            
            document.body.appendChild(sparkle);
            updateCount();
            log('Sparkle created');
            
            setTimeout(() => {
                if (sparkle.parentNode) {
                    sparkle.remove();
                    updateCount();
                }
            }, (duration + delay) * 1000);
        }
        
        function startAuto() {
            if (autoInterval) return;
            log('Auto-generation started');
            autoInterval = setInterval(() => {
                for(let i = 0; i < 3; i++) {
                    setTimeout(() => createTestSparkle(), i * 100);
                }
            }, 200);
        }
        
        function stopAuto() {
            if (autoInterval) {
                clearInterval(autoInterval);
                autoInterval = null;
                log('Auto-generation stopped');
            }
        }
        
        // Auto-start on load
        window.addEventListener('DOMContentLoaded', () => {
            log('Page loaded - starting auto-generation');
            startAuto();
        });
        
        // Update count every second
        setInterval(updateCount, 1000);
    </script>
</body>
</html>
