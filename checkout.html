<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
    <meta name="theme-color" content="#E89CC8" />
    <meta name="color-scheme" content="light" />
    <title>Checkout ‚Äî Yaya Starchild</title>
  <meta name="description" content="Checkout page" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- <link rel="manifest" href="/manifest.webmanifest"> -->
  <link rel="icon" href="/favicon.ico">
    <script src="https://js.stripe.com/v3/"></script>
    <!-- Configure server URL for payment processing -->
    <script>
      window.YAYA_CONFIG = {
        serverUrl: 'https://yaya-1dc3.onrender.com',
        stripePublishableKey: 'pk_live_51SM7yMRMDdiM5E9AoXPdpUxWXxK3h2ZlOwy2hbqwp4o2BHAr2bM30LKSuNv8AdeMJV0l6nfhvIa2Hzxny8VI9GQx00dDiIoUZ6'
      };
    </script>
    <script src="error-monitor.js"></script>
    <script src="cookie-consent.js"></script>
    <script src="data-handler.js"></script>
    <script src="stripe-payments.js"></script>
  </head>
  <body>
    <a class="skip-link" href="#main">Skip to content</a>
    <header class="site-header">
      <div class="brand">
        <a href="index.html"><img src="assets/logo-new.jpg" alt="Yaya Starchild logo" class="logo"/></a>
        <div>
          <h1>Yaya Starchild</h1>
          <p class="tag">Whimsical poet who hopes to leave you enchanted.</p>
        </div>
      </div>
      <nav class="nav">
        <a href="index.html">Home</a>
        <a href="shop.html">Shop</a>
        <a href="about.html">About the Author</a>
        <a href="cart.html" id="nav-cart">Cart (<span id="nav-cart-count">0</span>)</a>
      </nav>
    </header>

  <main id="main" class="container" role="main">
      <h2 class="reveal"><i class="fas fa-magic"></i> Magical Checkout</h2>
      <p class="lead reveal">Complete your order and bring a little more magic into the world. Your purchase supports independent art and poetry.</p>
      
      <div style="display:grid; grid-template-columns:1.5fr 1fr; gap:1.5rem; align-items:start;">
        <form id="checkout-form" class="checkout-form reveal-left" style="background:var(--glass); backdrop-filter:blur(20px); padding:1.5rem; border-radius:var(--radius); border:1px solid rgba(255,255,255,0.25);">
          <h3>üåü Shipping Information</h3>
          <div style="display:grid; gap:0.8rem; margin-bottom:1.5rem;">
            <label for="name" style="display:block;">
              <span style="display:block; margin-bottom:0.4rem; font-weight:600;">Full Name</span>
              <input type="text" id="name" placeholder="Your magical name ‚ú®" required />
            </label>
            <label for="email" style="display:block;">
              <span style="display:block; margin-bottom:0.4rem; font-weight:600;">Email</span>
              <input type="email" id="email" placeholder="your@email.com" required />
            </label>
            <label for="address" style="display:block;">
              <span style="display:block; margin-bottom:0.4rem; font-weight:600;">Address</span>
              <input type="text" id="address" placeholder="Street address" required />
            </label>
            <div style="display:grid; grid-template-columns:1fr 120px 120px; gap:0.8rem;">
              <label for="city" style="display:block;">
                <span style="display:block; margin-bottom:0.4rem; font-weight:600;">City</span>
                <input type="text" id="city" placeholder="City" required />
              </label>
              <label for="state" style="display:block;">
                <span style="display:block; margin-bottom:0.4rem; font-weight:600;">State</span>
                <input type="text" id="state" placeholder="CA" maxlength="2" required />
              </label>
              <label for="zip" style="display:block;">
                <span style="display:block; margin-bottom:0.4rem; font-weight:600;">ZIP Code</span>
                <input type="text" id="zip" placeholder="90210" required />
              </label>
            </div>
          </div>

          <div class="payment-info" style="background:rgba(232,156,200,0.1); border:1px solid rgba(232,156,200,0.3); border-radius:var(--radius); padding:1rem; margin-bottom:1.5rem;">
            <h4 style="margin:0 0 0.5rem 0; color:var(--primary); display:flex; align-items:center; gap:0.5rem;">
              <i class="fas fa-shield-alt" aria-hidden="true"></i> Secure Payment
            </h4>
            <p style="margin:0; font-size:0.95rem; line-height:1.5;">
              Payment details (card number, expiration date, CVC) will be securely collected on the next page by Stripe. 
              We never store your payment information.
            </p>
          </div>

          <label for="gift-wrap" style="display:flex; align-items:center; gap:0.8rem; margin:1.25rem 0;">
            <input type="checkbox" id="gift-wrap" />
            <span>üéÅ Add gift wrapping (+$5) ‚Äî includes handwritten note and sparkle confetti</span>
          </label>

          <button class="btn primary" id="stripe-checkout-btn" type="button" onclick="handleStripeCheckout()" aria-describedby="security-note" style="width:100%; font-size:1.2rem; padding:1rem;">
            <i class="fas fa-credit-card" aria-hidden="true"></i> Continue to Payment
          </button>
          <p id="security-note" style="text-align:center; margin-top:1rem; font-size:0.95rem; opacity:0.9;">
            <i class="fas fa-lock" aria-hidden="true"></i> You'll enter payment details securely on the next page
          </p>
        </form>

        <aside class="order-summary reveal-right" id="order-summary" style="background:var(--glass); backdrop-filter:blur(20px); padding:1.5rem; border-radius:var(--radius); border:1px solid rgba(255,255,255,0.25); position:sticky; top:2rem;">
          <h3><i class="fas fa-box"></i> Order Summary</h3>
          <!-- summary rendered by app.js -->
          <div style="margin-top:1.5rem; padding-top:1.5rem; border-top:1px solid rgba(255,255,255,0.2);">
            <p style="font-size:0.95rem; line-height:1.6;"><i class="fas fa-bookmark"></i> Every order includes a bookmark with an exclusive poem</p>
            <p style="font-size:0.95rem; line-height:1.6;"><i class="fas fa-truck"></i> Free shipping on orders $50+</p>
            <p style="font-size:0.95rem; line-height:1.6;"><i class="fas fa-clock"></i> Ships within 2-3 business days</p>
          </div>
        </aside>
      </div>
    </main>

    <footer class="site-footer">
      <div class="container">
        <p class="copy">¬© 2025 Yaya Starchild ‚Ä¢ Pastel Poetics ‚Ä¢ Made with magic <i class="fas fa-wand-sparkles"></i> and stardust <i class="fas fa-star"></i> ‚Ä¢ <a href="policies.html">Policies & Legal</a></p>
      </div>
    </footer>

    <!-- Simple Email Notifications (load before app.js) -->
    <script src="simple-email.js"></script>
    <script defer src="products.js"></script>
    <script defer src="app.js"></script>
    
    <!-- Firebase Configuration -->
    <script type="module" src="firebase-config.js"></script>
  </body>
</html>
